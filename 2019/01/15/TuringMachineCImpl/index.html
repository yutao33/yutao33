<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.4.2" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.2" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.4.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="refer to https://web.archive.org/web/20150909215048/http://en.literateprograms.org:80/Turing_machine_simulator_(C)#chunk%20def:state%20tracing single-tape Turing machine $M = \left(Q, \Gamma, q_{0}, \">
<meta name="keywords" content="Turing machine,C">
<meta property="og:type" content="article">
<meta property="og:title" content="Turing machine simulator (C)">
<meta property="og:url" content="https://yutao33.github.io/2019/01/15/TuringMachineCImpl/index.html">
<meta property="og:site_name" content="Github Pages of D. HT. Y.">
<meta property="og:description" content="refer to https://web.archive.org/web/20150909215048/http://en.literateprograms.org:80/Turing_machine_simulator_(C)#chunk%20def:state%20tracing single-tape Turing machine $M = \left(Q, \Gamma, q_{0}, \">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-01-15T03:21:17.080Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Turing machine simulator (C)">
<meta name="twitter:description" content="refer to https://web.archive.org/web/20150909215048/http://en.literateprograms.org:80/Turing_machine_simulator_(C)#chunk%20def:state%20tracing single-tape Turing machine $M = \left(Q, \Gamma, q_{0}, \">






  <link rel="canonical" href="https://yutao33.github.io/2019/01/15/TuringMachineCImpl/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Turing machine simulator (C) | Github Pages of D. HT. Y.</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Github Pages of D. HT. Y.</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://yutao33.github.io/2019/01/15/TuringMachineCImpl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="D. HT. Y.">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/22347608?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Github Pages of D. HT. Y.">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Turing machine simulator (C)
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-01-15 09:17:40 / Modified: 11:21:17" itemprop="dateCreated datePublished" datetime="2019-01-15T09:17:40+08:00">2019-01-15</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>refer to <a href="https://web.archive.org/web/20150909215048/http://en.literateprograms.org:80/Turing_machine_simulator_(C)#chunk%20def:state%20tracing" target="_blank" rel="noopener">https://web.archive.org/web/20150909215048/http://en.literateprograms.org:80/Turing_machine_simulator_(C)#chunk%20def:state%20tracing</a></p>
<p>single-tape Turing machine $M = \left(Q, \Gamma, q_{0}, \sqcup, F, \delta \right)$.</p>
<ul>
<li>$Q$ is a finite set of states;</li>
<li>$\Gamma$ is the finite tape alphabet (the symbols that can occur on the tape);</li>
<li>$q_{0}\in Q$ is the initial state;</li>
<li>$\sqcup \in \Gamma$ is the blank symbol;</li>
<li>$\Gamma \subset Q$ is the set of accepting (final) states;</li>
<li>$\delta: Q \times \Gamma \rightarrow Q \times \Gamma \times \{L, R\}$ is the transition function which determines the action performed at each step.</li>
</ul>
<p>Initially the tape has the input string on it, followed by an infinite number of blank symbols ($\sqcup$), and the head is at the left end of the tape. At each step we use the transition function to determine the next state, the symbol written on the tape just prior to moving, and the direction to move the head, left (L) or right (R). If we ever reach a final state, the machine halts.</p>
<figure class="highlight c"><figcaption><span>TuringMachine</span><a href="/downloads/code/TuringMachineCImpl.c">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&lt;&lt;header files&gt;&gt;=</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//State representation</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//We will represent each state and each symbol with a simple integer type. The alphabet size is fixed at 256, so a single-byte char type is suitable for representing a symbol:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&lt;&lt;constants&gt;&gt;=</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TAPE_ALPHABET_SIZE 256</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&lt;&lt;type definitions&gt;&gt;=</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> symbol;</span><br><span class="line"></span><br><span class="line"><span class="comment">//We represent the state of the machine at a single instant using the following structure, which describes the tape contents, the current control state, and the current position of the head on the tape:</span></span><br><span class="line"><span class="comment">//&lt;&lt;Turing machine state structure&gt;&gt;=</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">turing_machine_state</span> {</span></span><br><span class="line">    <span class="keyword">int</span> control_state;</span><br><span class="line">    <span class="keyword">int</span> head_position;</span><br><span class="line">    <span class="keyword">int</span> tape_size;</span><br><span class="line">    symbol* tape;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">//We can update this structure based on what the transition function tells us to do. It supplies a new control state, a character to write, and a direction in which to move the head:</span></span><br><span class="line"><span class="comment">//&lt;&lt;type definitions&gt;&gt;=</span></span><br><span class="line"><span class="keyword">enum</span> direction { DIR_LEFT, DIR_RIGHT };</span><br><span class="line"></span><br><span class="line"><span class="comment">//&lt;&lt;state update function&gt;&gt;=</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update_state</span><span class="params">(struct turing_machine_state* state, <span class="keyword">int</span> new_control_state,</span></span></span><br><span class="line"><span class="function"><span class="params">                  <span class="keyword">enum</span> direction dir, <span class="keyword">char</span> write_symbol, <span class="keyword">char</span> blank_symbol)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    state-&gt;control_state = new_control_state;</span><br><span class="line">    state-&gt;tape[state-&gt;head_position] = write_symbol;</span><br><span class="line">    <span class="keyword">if</span> (dir == DIR_LEFT &amp;&amp; state-&gt;head_position &gt; <span class="number">0</span>) {</span><br><span class="line">        state-&gt;head_position--;</span><br><span class="line">    } <span class="keyword">else</span> { <span class="comment">/* dir == DIR_RIGHT */</span></span><br><span class="line">        state-&gt;head_position++;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//Note that the head is prevented from moving off the left end. Because we can't actually allocate an arbitrary-sized tape, we allocate a tape of a fixed size and dynamically expand it if the head moves past the right end, filling in the new cells with blank characters:</span></span><br><span class="line">    <span class="comment">//&lt;&lt;expand tape if needed&gt;&gt;=</span></span><br><span class="line">    <span class="keyword">if</span> (state-&gt;head_position &gt;= state-&gt;tape_size) {</span><br><span class="line">        <span class="keyword">int</span> i, old_tape_size = state-&gt;tape_size;</span><br><span class="line">        symbol* new_tape = <span class="built_in">realloc</span>(state-&gt;tape, old_tape_size*<span class="number">2</span> + <span class="number">10</span>);</span><br><span class="line">        <span class="keyword">if</span> (new_tape == <span class="literal">NULL</span>) {</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Out of memory"</span>);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">        }</span><br><span class="line">        state-&gt;tape = new_tape;</span><br><span class="line">        state-&gt;tape_size *= <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span> (i=old_tape_size; i &lt; state-&gt;tape_size; i++) {</span><br><span class="line">            state-&gt;tape[i] = blank_symbol;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//We also need a way to create an initial machine state, given the initial control state and input string. We allocate just enough space for the input string, and any characters beyond the end can be assumed to be blank:</span></span><br><span class="line"><span class="comment">//&lt;&lt;create initial state function&gt;&gt;=</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">turing_machine_state</span></span></span><br><span class="line"><span class="class"><span class="title">create_initial_state</span>(<span class="title">int</span> <span class="title">initial_control_state</span>, <span class="title">int</span> <span class="title">input_string_length</span>, <span class="title">symbol</span>* <span class="title">input_string</span>) {</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">turing_machine_state</span> <span class="title">state</span>;</span></span><br><span class="line">    state.control_state = initial_control_state;</span><br><span class="line">    state.head_position = <span class="number">0</span>; <span class="comment">/* Initially at left end */</span></span><br><span class="line">    state.tape_size = input_string_length;</span><br><span class="line">    state.tape = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(symbol)*input_string_length);</span><br><span class="line">    <span class="keyword">if</span> (state.tape == <span class="literal">NULL</span>) {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Out of memory"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">    }</span><br><span class="line">    memmove(state.tape, input_string, <span class="keyword">sizeof</span>(symbol)*input_string_length);</span><br><span class="line">    <span class="keyword">return</span> state;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Since this performs allocations, we need a function to deallocate these resources when we're done with the state object:</span></span><br><span class="line"><span class="comment">//&lt;&lt;free state function&gt;&gt;=</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">free_state</span><span class="params">(struct turing_machine_state* state)</span> </span>{</span><br><span class="line">    <span class="built_in">free</span>(state-&gt;tape);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//For diagnostic purposes, it's also useful to print out some of the details of a state. We only show the first TRACE_TAPE_CHARS characters of the tape:</span></span><br><span class="line"><span class="comment">//&lt;&lt;constants&gt;&gt;=</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRACE_TAPE_CHARS   78</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&lt;&lt;trace state function&gt;&gt;=</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">trace_state</span><span class="params">(struct turing_machine_state* state, symbol blank_symbol)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i &lt; TRACE_TAPE_CHARS &amp;&amp; i &lt; state-&gt;head_position; i++) {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (i &lt; TRACE_TAPE_CHARS) {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"v"</span>); <span class="comment">/* points down */</span></span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i &lt; TRACE_TAPE_CHARS; i++) {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c"</span>, i &lt; state-&gt;tape_size ? state-&gt;tape[i] : blank_symbol);</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//This completes the set of state manipulation functions:</span></span><br><span class="line"><span class="comment">// &lt;&lt;state functions&gt;&gt;=</span></span><br><span class="line"><span class="comment">// create initial state function</span></span><br><span class="line"><span class="comment">// free state function</span></span><br><span class="line"><span class="comment">// state update function</span></span><br><span class="line"><span class="comment">// trace state function</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Machine representation</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Since we're representing states and characters with integers, Q and Γ need no explicit representation. This structure represents the remaining information about the machine:</span></span><br><span class="line"><span class="comment">//&lt;&lt;Turing machine structure&gt;&gt;=</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">turing_machine</span> {</span></span><br><span class="line">    <span class="keyword">int</span> initial_control_state;</span><br><span class="line">    <span class="keyword">char</span> blank_symbol;</span><br><span class="line">    <span class="keyword">int</span> num_accepting_states;</span><br><span class="line">    <span class="keyword">int</span>* accepting_states;    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">transition_result</span>** <span class="title">transition_table</span>;</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">// The last item is a two-dimensional array of transition_result objects, indexed by the current symbol under the tape head and the current control state. The transition_result structure represents the three-tuple range of the transition function used to produce the next state:</span></span><br><span class="line"><span class="comment">// &lt;&lt;Transition function result structure&gt;&gt;=</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">transition_result</span> {</span></span><br><span class="line">    <span class="keyword">int</span> control_state;</span><br><span class="line">    symbol write_symbol;</span><br><span class="line">    <span class="keyword">enum</span> direction dir;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">// Our choice of a two-dimensional array for the transition function makes the resulting code simple, but tends to be very wasteful of space in practice since most Turing machines are sparse (most transitions just cause it to reject immediately). A denser representation, such as the adjacency list representation of the state graph, would be more practical. (The state graph is the directed graph where each vertex is a state and each edge is labelled with an input character, an output character, and left/right).</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Simulation</span></span><br><span class="line"><span class="comment">// We now come to our primary public simulation function. Using our machine state functionality, we can take a turing_machine structure and an input string and step through successive states:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;&lt;simulate function&gt;&gt;=</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_in_int_list</span><span class="params">(<span class="keyword">int</span> value, <span class="keyword">int</span> list_size, <span class="keyword">int</span> <span class="built_in">list</span>[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">simulate</span><span class="params">(struct turing_machine machine, <span class="keyword">int</span> input_string_length, symbol* input_string)</span> </span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">turing_machine_state</span> <span class="title">state</span> = </span></span><br><span class="line"><span class="class">        <span class="title">create_initial_state</span>(<span class="title">machine</span>.<span class="title">initial_control_state</span>, <span class="title">input_string_length</span>, <span class="title">input_string</span>);</span></span><br><span class="line">    <span class="comment">// state tracing initial</span></span><br><span class="line">    trace_state(&amp;state, machine.blank_symbol);</span><br><span class="line">    <span class="keyword">while</span> (!is_in_int_list(state.control_state, machine.num_accepting_states,</span><br><span class="line">                           machine.accepting_states)) {</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">transition_result</span> <span class="title">next</span> =</span></span><br><span class="line"><span class="class">            <span class="title">machine</span>.<span class="title">transition_table</span>[<span class="title">state</span>.<span class="title">control_state</span>]</span></span><br><span class="line"><span class="class">                                    [(<span class="title">int</span>)<span class="title">state</span>.<span class="title">tape</span>[<span class="title">state</span>.<span class="title">head_position</span>]];</span></span><br><span class="line">        update_state(&amp;state, next.control_state, next.dir,</span><br><span class="line">                     next.write_symbol, machine.blank_symbol);</span><br><span class="line">        <span class="comment">// state tracing</span></span><br><span class="line">        trace_state(&amp;state, machine.blank_symbol);</span><br><span class="line">    }</span><br><span class="line">    free_state(&amp;state);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;&lt;public declarations&gt;&gt;=</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">simulate</span><span class="params">(struct turing_machine machine, <span class="keyword">int</span> input_string_length, symbol* input_string)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// We'll talk about state tracing when we discuss the test driver. The is_in_int_list() helper function just does a linear search on a list of ints:</span></span><br><span class="line"><span class="comment">// &lt;&lt;is_in_int_list function&gt;&gt;=</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_in_int_list</span><span class="params">(<span class="keyword">int</span> value, <span class="keyword">int</span> list_size, <span class="keyword">int</span> <span class="built_in">list</span>[])</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;list_size; i++) {</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">list</span>[i] == value) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// This may be a bottleneck for machines with many accepting states, in which case it could be replaced with a more efficient set data structure.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Files</span></span><br><span class="line"><span class="comment">// Finally, we put it all together into a header file and a source file, using the usual idiom to avoid multiple inclusion of the header:</span></span><br><span class="line"><span class="comment">//&lt;&lt;simulate_turing_machine.h&gt;&gt;=</span></span><br><span class="line"><span class="comment">// #ifndef _SIMULATE_TURING_MACHINE_H_</span></span><br><span class="line"><span class="comment">// #define _SIMULATE_TURING_MACHINE_H_</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// constants</span></span><br><span class="line"><span class="comment">// type definitions</span></span><br><span class="line"><span class="comment">// Transition function result structure</span></span><br><span class="line"><span class="comment">// Turing machine structure</span></span><br><span class="line"><span class="comment">// public declarations</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #endif /* #ifndef _SIMULATE_TURING_MACHINE_H_ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;&lt;header files&gt;&gt;=</span></span><br><span class="line"><span class="comment">// #include "simulate_turing_machine.h"</span></span><br><span class="line"><span class="comment">// &lt;&lt;simulate_turing_machine.c&gt;&gt;=</span></span><br><span class="line"><span class="comment">// header files</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Turing machine state structure /* This structure need not be public */</span></span><br><span class="line"><span class="comment">// state functions</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// is_in_int_list function</span></span><br><span class="line"><span class="comment">// simulate function</span></span><br><span class="line"><span class="comment">// This completes the simulator implementation.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//A simple Turing machine recognizing the language a^nb^n</span></span><br><span class="line"><span class="comment">// To test the simulation, we'll implement the simple Turing machine shown to the right, which is based roughly on this Turing machine example. This diagram is a state graph, meaning that each vertex represents a state in the machine's finite control, and each edge indicates the input character that must be read to follow that edge, the character to write over it, and the direction to move the head. The initial state is 0 and the only accepting state is 5. It recognizes the following context-free but nonregular language:</span></span><br><span class="line"><span class="comment">// ${a^nb^n:n \in N,n&gt;=1}$</span></span><br><span class="line"><span class="comment">// The pumping lemma says that this is nonregular, but a Turing machine to recognize it is fairly straightforward. Here's how we construct a Turing machine object for it:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;&lt;Example turing machine producer&gt;&gt;=</span></span><br><span class="line"><span class="function">struct turing_machine <span class="title">get_example_turing_machine</span><span class="params">(<span class="keyword">void</span>)</span> </span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">turing_machine</span> <span class="title">machine</span>;</span></span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    machine.initial_control_state = <span class="number">0</span>;</span><br><span class="line">    machine.blank_symbol = <span class="string">'#'</span>;</span><br><span class="line">    machine.num_accepting_states = <span class="number">1</span>;</span><br><span class="line">    machine.accepting_states = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>)*machine.num_accepting_states);</span><br><span class="line">    <span class="keyword">if</span> (machine.accepting_states == <span class="literal">NULL</span>) {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Out of memory"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">    }</span><br><span class="line">    machine.accepting_states[<span class="number">0</span>] = <span class="number">5</span>;</span><br><span class="line">    <span class="comment">// initialize transition table</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Initially, all entries of the transition table point to a special state STATE_INVALID not shown in the diagram. If this state is reached, the input is not in the language:</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">define</span> NUM_STATES 7</span></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">define</span> STATE_INVALID 6</span></span><br><span class="line"></span><br><span class="line">    machine.transition_table = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct transition_result *) * NUM_STATES);</span><br><span class="line">    <span class="keyword">if</span> (machine.transition_table == <span class="literal">NULL</span>) {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Out of memory"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;NUM_STATES; i++) {</span><br><span class="line">        machine.transition_table[i] =</span><br><span class="line">            <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct transition_result)*TAPE_ALPHABET_SIZE);</span><br><span class="line">        <span class="keyword">if</span> (machine.transition_table[i] == <span class="literal">NULL</span>) {</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Out of memory"</span>);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span> (j=<span class="number">0</span>; j&lt;TAPE_ALPHABET_SIZE; j++) {</span><br><span class="line">            machine.transition_table[i][j].control_state = STATE_INVALID;</span><br><span class="line">            machine.transition_table[i][j].write_symbol = machine.blank_symbol;</span><br><span class="line">            machine.transition_table[i][j].dir = DIR_LEFT;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//insert nontrivial transitions</span></span><br><span class="line">    <span class="comment">//We then add entries for each arc in the diagram:</span></span><br><span class="line">    machine.transition_table[<span class="number">0</span>][<span class="string">'#'</span>].control_state = <span class="number">4</span>;</span><br><span class="line">    machine.transition_table[<span class="number">0</span>][<span class="string">'#'</span>].write_symbol  = <span class="string">'#'</span>;</span><br><span class="line">    machine.transition_table[<span class="number">0</span>][<span class="string">'#'</span>].dir           = DIR_RIGHT;</span><br><span class="line"></span><br><span class="line">    machine.transition_table[<span class="number">0</span>][<span class="string">'a'</span>].control_state = <span class="number">1</span>;</span><br><span class="line">    machine.transition_table[<span class="number">0</span>][<span class="string">'a'</span>].write_symbol  = <span class="string">'#'</span>;</span><br><span class="line">    machine.transition_table[<span class="number">0</span>][<span class="string">'a'</span>].dir           = DIR_RIGHT;</span><br><span class="line"></span><br><span class="line">    machine.transition_table[<span class="number">4</span>][<span class="string">'#'</span>].control_state = <span class="number">5</span>;</span><br><span class="line">    machine.transition_table[<span class="number">4</span>][<span class="string">'#'</span>].write_symbol  = <span class="string">'#'</span>;</span><br><span class="line">    machine.transition_table[<span class="number">4</span>][<span class="string">'#'</span>].dir           = DIR_RIGHT;</span><br><span class="line"></span><br><span class="line">    machine.transition_table[<span class="number">1</span>][<span class="string">'a'</span>].control_state = <span class="number">1</span>;</span><br><span class="line">    machine.transition_table[<span class="number">1</span>][<span class="string">'a'</span>].write_symbol  = <span class="string">'a'</span>;</span><br><span class="line">    machine.transition_table[<span class="number">1</span>][<span class="string">'a'</span>].dir           = DIR_RIGHT;</span><br><span class="line"></span><br><span class="line">    machine.transition_table[<span class="number">1</span>][<span class="string">'b'</span>].control_state = <span class="number">1</span>;</span><br><span class="line">    machine.transition_table[<span class="number">1</span>][<span class="string">'b'</span>].write_symbol  = <span class="string">'b'</span>;</span><br><span class="line">    machine.transition_table[<span class="number">1</span>][<span class="string">'b'</span>].dir           = DIR_RIGHT;</span><br><span class="line"></span><br><span class="line">    machine.transition_table[<span class="number">1</span>][<span class="string">'#'</span>].control_state = <span class="number">2</span>;</span><br><span class="line">    machine.transition_table[<span class="number">1</span>][<span class="string">'#'</span>].write_symbol  = <span class="string">'#'</span>;</span><br><span class="line">    machine.transition_table[<span class="number">1</span>][<span class="string">'#'</span>].dir           = DIR_LEFT;</span><br><span class="line"></span><br><span class="line">    machine.transition_table[<span class="number">2</span>][<span class="string">'b'</span>].control_state = <span class="number">3</span>;</span><br><span class="line">    machine.transition_table[<span class="number">2</span>][<span class="string">'b'</span>].write_symbol  = <span class="string">'#'</span>;</span><br><span class="line">    machine.transition_table[<span class="number">2</span>][<span class="string">'b'</span>].dir           = DIR_LEFT;</span><br><span class="line"></span><br><span class="line">    machine.transition_table[<span class="number">3</span>][<span class="string">'a'</span>].control_state = <span class="number">3</span>;</span><br><span class="line">    machine.transition_table[<span class="number">3</span>][<span class="string">'a'</span>].write_symbol  = <span class="string">'a'</span>;</span><br><span class="line">    machine.transition_table[<span class="number">3</span>][<span class="string">'a'</span>].dir           = DIR_LEFT;</span><br><span class="line"></span><br><span class="line">    machine.transition_table[<span class="number">3</span>][<span class="string">'b'</span>].control_state = <span class="number">3</span>;</span><br><span class="line">    machine.transition_table[<span class="number">3</span>][<span class="string">'b'</span>].write_symbol  = <span class="string">'b'</span>;</span><br><span class="line">    machine.transition_table[<span class="number">3</span>][<span class="string">'b'</span>].dir           = DIR_LEFT;</span><br><span class="line"></span><br><span class="line">    machine.transition_table[<span class="number">3</span>][<span class="string">'#'</span>].control_state = <span class="number">0</span>;</span><br><span class="line">    machine.transition_table[<span class="number">3</span>][<span class="string">'#'</span>].write_symbol  = <span class="string">'#'</span>;</span><br><span class="line">    machine.transition_table[<span class="number">3</span>][<span class="string">'#'</span>].dir           = DIR_RIGHT;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> machine;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//We don't bother deallocating anything since this structure lives for the lifetime of the process. Now, we simply invoke the simulate function on this structure, allowing the user to specify the initial input on the command line in argv[1]:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Example turing machine producer</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (argc &lt; <span class="number">1</span> + <span class="number">1</span>) {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Syntax: simulate_turing_machine &lt;input string&gt;\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    }</span><br><span class="line">    simulate(get_example_turing_machine(), <span class="built_in">strlen</span>(argv[<span class="number">1</span>]), argv[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// If we run the program on a string in the language, like "aaabbb", the program will return quickly; otherwise it will freeze, indicating it's entered the invalid state. To ensure it's going through the right intermediate states, we add some tracing to the simulate() function to print out the state:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Now we can see, for example:</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">$ simulate_turing_machine ab</span></span><br><span class="line"><span class="comment">v</span></span><br><span class="line"><span class="comment">ab############################################################################</span></span><br><span class="line"><span class="comment"> v</span></span><br><span class="line"><span class="comment">#b############################################################################</span></span><br><span class="line"><span class="comment">  v</span></span><br><span class="line"><span class="comment">#b############################################################################</span></span><br><span class="line"><span class="comment"> v</span></span><br><span class="line"><span class="comment">#b############################################################################</span></span><br><span class="line"><span class="comment">v</span></span><br><span class="line"><span class="comment">##############################################################################</span></span><br><span class="line"><span class="comment"> v</span></span><br><span class="line"><span class="comment">##############################################################################</span></span><br><span class="line"><span class="comment">  v</span></span><br><span class="line"><span class="comment">##############################################################################</span></span><br><span class="line"><span class="comment">   v</span></span><br><span class="line"><span class="comment">##############################################################################</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Turing-machine/" rel="tag"># Turing machine</a>
          
            <a href="/tags/C/" rel="tag"># C</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/12/27/mingw-llvm/" rel="next" title="ubuntu上用MinGW-w64 交叉编译LLVM+Clang">
                <i class="fa fa-chevron-left"></i> ubuntu上用MinGW-w64 交叉编译LLVM+Clang
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/04/04/reading1/" rel="prev" title="100天阅读计划 -- 1">
                100天阅读计划 -- 1 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://avatars2.githubusercontent.com/u/22347608?s=460&v=4" alt="D. HT. Y.">
            
              <p class="site-author-name" itemprop="name">D. HT. Y.</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">30</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">26</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">D. HT. Y.</span>

  

  
</div>


  



  <div class="powered-by">Powered by <a class="theme-link" target="_blank" rel="external nofollow" href="https://hexo.io">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" rel="external nofollow" href="https://theme-next.org">NexT.Pisces</a> v6.4.2</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script>



  



  










  





  

  

  

  
  

  
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
  


  
  

  

  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/xiaoban.model.json"},"display":{"position":"left","width":180,"height":300},"mobile":{"show":true},"react":{"opacity":0.9},"log":false});</script></body>
</html>
