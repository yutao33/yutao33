<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.4.2" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.2" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.4.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="start end     14:26 16:18     P5: Policy-driven optimization of P4 pipeline  Abstracta system that exploits knowledge of application deployments embedded in a high-level policy abstraction to:   de">
<meta name="keywords" content="Reading,Plan">
<meta property="og:type" content="article">
<meta property="og:title" content="100天阅读计划 -- 4">
<meta property="og:url" content="https://yutao33.github.io/2019/04/08/reading4/index.html">
<meta property="og:site_name" content="Github Pages of D. HT. Y.">
<meta property="og:description" content="start end     14:26 16:18     P5: Policy-driven optimization of P4 pipeline  Abstracta system that exploits knowledge of application deployments embedded in a high-level policy abstraction to:   de">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://yutao33.github.io/2019/04/08/reading4/Figure1.png">
<meta property="og:image" content="https://yutao33.github.io/2019/04/08/reading4/Table1Table2.png">
<meta property="og:image" content="https://yutao33.github.io/2019/04/08/reading4/Figure3_4_5.png">
<meta property="og:image" content="https://yutao33.github.io/2019/04/08/reading4/Figure6_7_8.png">
<meta property="og:updated_time" content="2019-05-15T02:51:33.001Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="100天阅读计划 -- 4">
<meta name="twitter:description" content="start end     14:26 16:18     P5: Policy-driven optimization of P4 pipeline  Abstracta system that exploits knowledge of application deployments embedded in a high-level policy abstraction to:   de">
<meta name="twitter:image" content="https://yutao33.github.io/2019/04/08/reading4/Figure1.png">






  <link rel="canonical" href="https://yutao33.github.io/2019/04/08/reading4/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>100天阅读计划 -- 4 | Github Pages of D. HT. Y.</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Github Pages of D. HT. Y.</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://yutao33.github.io/2019/04/08/reading4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="D. HT. Y.">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/22347608?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Github Pages of D. HT. Y.">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">100天阅读计划 -- 4
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-08 14:26:00" itemprop="dateCreated datePublished" datetime="2019-04-08T14:26:00+08:00">2019-04-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-15 10:51:33" itemprop="dateModified" datetime="2019-05-15T10:51:33+08:00">2019-05-15</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <table>
<thead>
<tr>
<th>start</th>
<th>end</th>
</tr>
</thead>
<tbody>
<tr>
<td>14:26</td>
<td>16:18</td>
</tr>
</tbody>
</table>
<blockquote>
<p>P5: Policy-driven optimization of P4 pipeline</p>
</blockquote>
<h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>a system that exploits knowledge of application deployments embedded in a high-level policy abstraction to: </p>
<ul>
<li>detect features that are used by applications in a mutually-exclusive way and thereby remove inter-feature dependencies between the tables implementing these features in a network switch.</li>
<li>detect and remove the features that are not used by any application/traffic on the switch in a given topology. </li>
</ul>
<h1 id="INTRODUCTION"><a href="#INTRODUCTION" class="headerlink" title="INTRODUCTION"></a>INTRODUCTION</h1><ul>
<li>not all traffic will require all features</li>
<li>not all features need to be enabled in every switch</li>
<li>pipeline concurrency</li>
</ul>
<p>Contributions</p>
<ul>
<li>Using high level policies, we create tenant-to-feature mappings, to correctly identify dependencies between the tables, thus creating a more efficient pipeline switch.</li>
<li>We further decide which specific features must be supported in the network topology to meet the networkwide policies, and thus enable only those features in selective P4 switches.</li>
<li>We demonstrate up to 50% improvement in pipeline efficiency, in terms of number of pipeline stages, with real P4 switch programs.</li>
</ul>
<h1 id="BACKGROUND"><a href="#BACKGROUND" class="headerlink" title="BACKGROUND"></a>BACKGROUND</h1><h2 id="Policy-Intent"><a href="#Policy-Intent" class="headerlink" title="Policy Intent"></a>Policy Intent</h2><ul>
<li>policy intents can be defined with a group of end points (EPG) and their associated rules</li>
<li>Systems like PGA (Policy Graph Abstraction) use labels and label-trees to specify high level policy intents</li>
<li>In this paper, we use the tenant-to-feature mappings from the label tree to identify mutually exclusive features. By mutually-exclusive features (F1, F2), we mean that a packet which requires feature F1 will not require feature F2 and vice versa.</li>
</ul>
<h2 id="P4-Language"><a href="#P4-Language" class="headerlink" title="P4 Language"></a>P4 Language</h2><p>A typical P4 program implementing various switch features has more tables than the number of physical stages; Many of the logical tables can be concurrently executed in the same stage as long as they don’t have any dependencies on one another and the stage has enough resources to run the tables.</p>
<p>In this paper, we propose to identify and remove unnecessary table dependencies by exploiting knowledge of application requirements and deployments embedded in high-level policy abstractions.</p>
<h1 id="GENERATING-ACCURATE-TABLE-DEPENDENCIES"><a href="#GENERATING-ACCURATE-TABLE-DEPENDENCIES" class="headerlink" title="GENERATING ACCURATE TABLE DEPENDENCIES"></a>GENERATING ACCURATE TABLE DEPENDENCIES</h1><img src="/2019/04/08/reading4/Figure1.png" title="Figure1">
<img src="/2019/04/08/reading4/Table1Table2.png" title="Table1Table2">
<p>As shown in Table 2, the original P4 compiler would have put all these tables in a separate pipeline stage (five pipeline stages). This happens because according to the P4 compiler, all of the tables have a dependency relationship with every other table as they are all using the destination IP address. On the other hand, the label tree and tenant-to-feature mapping tells us that since all three features are mutually exclusive, there is no inter-feature table dependency and hence the number of pipeline stages can be reduced to three. The two other stages are freed up and can be used to either host new advanced features or increase the size of the standard features placed in stages 1-3.</p>
<h1 id="FEATURE-REMOVAL"><a href="#FEATURE-REMOVAL" class="headerlink" title="FEATURE REMOVAL"></a>FEATURE REMOVAL</h1><img src="/2019/04/08/reading4/Figure3_4_5.png" title="Figure3_4_5">
<p>Figure 3 represents a complex egress pipeline with 8 network features enabled. The total number of stages in this pipeline is 10. In Figure 3, shaded blocks represent the stages occupied by each feature and the arrows represent the dependency between blocks. One of the main things that stands out is the interdependencies between features. An obvious way to reduce the number of pipeline stages is to reduce the number of features to only the ones required, which is shown in Figure 4. This reduces the number of stages not just because the P4-tables associated with the removed features are missing, but also because the dependencies to those features are avoided and hence they can be placed in an earlier stage.</p>
<p>Upgrading the software stack takes up to a few seconds while the data plane update is almost instantaneous, orders of magnitude faster.</p>
<h1 id="EVALUATION"><a href="#EVALUATION" class="headerlink" title="EVALUATION"></a>EVALUATION</h1><img src="/2019/04/08/reading4/Figure6_7_8.png" title="Figure6_7_8">
<hr>

<iframe src="//player.bilibili.com/player.html?aid=8506617&cid=14004931&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Reading/" rel="tag"># Reading</a>
          
            <a href="/tags/Plan/" rel="tag"># Plan</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/04/07/reading3/" rel="next" title="100天阅读计划 -- 3">
                <i class="fa fa-chevron-left"></i> 100天阅读计划 -- 3
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/04/15/reading5/" rel="prev" title="100天阅读计划 -- 5">
                100天阅读计划 -- 5 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://avatars2.githubusercontent.com/u/22347608?s=460&v=4" alt="D. HT. Y.">
            
              <p class="site-author-name" itemprop="name">D. HT. Y.</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">29</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">26</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Abstract"><span class="nav-number">1.</span> <span class="nav-text">Abstract</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#INTRODUCTION"><span class="nav-number">2.</span> <span class="nav-text">INTRODUCTION</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#BACKGROUND"><span class="nav-number">3.</span> <span class="nav-text">BACKGROUND</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Policy-Intent"><span class="nav-number">3.1.</span> <span class="nav-text">Policy Intent</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P4-Language"><span class="nav-number">3.2.</span> <span class="nav-text">P4 Language</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#GENERATING-ACCURATE-TABLE-DEPENDENCIES"><span class="nav-number">4.</span> <span class="nav-text">GENERATING ACCURATE TABLE DEPENDENCIES</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#FEATURE-REMOVAL"><span class="nav-number">5.</span> <span class="nav-text">FEATURE REMOVAL</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#EVALUATION"><span class="nav-number">6.</span> <span class="nav-text">EVALUATION</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">D. HT. Y.</span>

  

  
</div>


  



  <div class="powered-by">Powered by <a class="theme-link" target="_blank" rel="external nofollow" href="https://hexo.io">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" rel="external nofollow" href="https://theme-next.org">NexT.Pisces</a> v6.4.2</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script>



  



  










  





  

  

  

  
  

  
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
  


  
  

  

  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/xiaoban.model.json"},"display":{"position":"left","width":180,"height":300},"mobile":{"show":true},"react":{"opacity":0.9},"log":false});</script></body>
</html>
